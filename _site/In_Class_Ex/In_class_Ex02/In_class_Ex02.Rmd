---
title: "In_class_Ex02"
author: "Zhang Jieyuan"
date: "1/22/2022"
output: html_document
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

```{r}
packages=c('tidyverse','readxl')
for(p in packages) {
  if(!require(p, character.only = T)){
    install.packages(p)
  }
  library(p,character.only =T)}
```

```{r, echo=TRUE,warning=FALSE,message=FALSE}
orders <- read_xls("data/Superstore-2021.xls",sheet="Orders")

returns <- read_xls("data/Superstore-2021.xls",sheet = "Returns")

```

### Combine

```{r}
joined_tab <- left_join(returns,orders,
                        by = c('Order ID'='Order ID'))

```

### Compute the freq count by sub-category

```{r}
FC_tab <- joined_tab %>%
  group_by('Sub-Category')%>%
  summarise('Returns'= count(as.factor('Sub-Category')))%>%
  ungroup()

```